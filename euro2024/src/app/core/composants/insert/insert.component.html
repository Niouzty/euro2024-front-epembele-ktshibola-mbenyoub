<div class="max-w-6xl mx-auto my-8 px-4">
  <!-- Section d'ajout -->
  <section class="mb-8 bg-gray-50 rounded-xl p-6 shadow-sm">
    <h1 class="text-2xl font-bold mb-6 text-gray-800">Ajouter des données</h1>
    
    <form (ngSubmit)="submit()" class="flex flex-wrap gap-6 items-end p-6 bg-white rounded-lg border border-gray-200">
      @for (column of namesColumns; track column) {
        <div class="flex flex-col min-w-[200px]">
          <label class="mb-2 font-medium text-gray-700">{{ column }}</label>
          <input 
            [(ngModel)]="inputValues[column]"
            [name]="column"
            class="px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"
            type="text"
            required>
        </div>
      }
      <button 
        type="submit" 
        class="px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-md"
      >
        Valider
      </button>
    </form>
  </section>

  <!-- Section d'édition -->
  <section class="mb-8">
    <h2 class="text-2xl font-bold mb-6 text-gray-800">Modifier les données</h2>
    
    <div class="flex flex-col gap-3">
      @for (item of listInput; track item; let i = $index) {
        <div 
          class="flex flex-wrap gap-4 p-5 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"
          (dblclick)="rowUpdate(i)"
          [class.bg-blue-50]="updateRow === i"
          [class.border-blue-300]="updateRow === i"
          [class.ring-2]="updateRow === i"
          [class.ring-blue-200]="updateRow === i">
          
          @for (column of namesColumns; track column) {
            <div class="flex items-center min-w-[200px]">
              @if (updateRow !== i) {
                <span class="px-3 py-1 text-gray-700">{{ item[column] }}</span>
              } @else {
                <input 
                  [(ngModel)]="item[column]"
                  class="w-full px-4 py-2 border-2 border-blue-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"
                  type="text"
                  (blur)="validUpdate()"
                  autofocus>
              }
            </div>
          }
        </div>
      }
    </div>

    @if (listInput.length > 0) {
      <p class="mt-4 text-gray-500 text-sm">Double-cliquez pour éditer</p>
    }
  </section>

  <!-- Bouton d'envoi final -->
  <button 
    (click)="submitFinal()" 
    class="w-full md:w-auto px-8 py-4 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors shadow-lg text-lg"
  >
    Envoyer les modifications
  </button>
</div>